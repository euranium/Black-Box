#!/bin/sh
# build the go project, check if succesfull
# if success, mv executable to an .o file for .gitinore
# then run
# make dir users for user folder, not tracked by git
# make dir aaa for testing stuff in
if [ ! -d "users/aaa" ]; then
	mkdir -p "users/aaa"
fi

clear
go build
if [ $? -eq 0 ]; then
	fld=${PWD##*/}
	if [ -f $fld ]; then
		mv $fld ${fld}.o
		if [ "$1" = "test" ]; then
			echo 'sucess'
		else
			./${fld}.o $@
		fi
	fi
else
	echo 'error'
fi
